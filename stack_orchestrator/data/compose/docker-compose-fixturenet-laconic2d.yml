services:
  laconic2d:
    restart: unless-stopped
    image: cerc/laconic2d:local
    command: ["sh", "/docker-entrypoint-scripts.d/create-fixturenet.sh"]
    volumes:
      # The cosmos-sdk node's database directory:
      - laconic2d-data:/root/.laconic2d
      # TODO: look at folding these scripts into the container
      - ../config/fixturenet-laconic2d/create-fixturenet.sh:/docker-entrypoint-scripts.d/create-fixturenet.sh
      - ../config/fixturenet-laconic2d/export-mykey.sh:/docker-entrypoint-scripts.d/export-mykey.sh
      - ../config/fixturenet-laconic2d/export-myaddress.sh:/docker-entrypoint-scripts.d/export-myaddress.sh
    # TODO: determine which of the ports below is really needed
    ports:
      - "6060"
      - "26657"
      - "26656"
      - "9473"
      - "8545"
      - "8546"
      - "9090"
      - "9091"
      - "1317"
  cli:
    image: cerc/laconic-registry-cli:local
    volumes:
      - ../config/fixturenet-laconic2d/registry-cli-config-template.yml:/registry-cli-config-template.yml

volumes:
  laconic2d-data:
